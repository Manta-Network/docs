# Manta 零知识证明挑战

# zkSummit7 挑战

近来，美国国防部遇到了一个非常严峻的问题：他们有一个数字列表（有限个数），他们需要知道每个数字的倒数。 他们没有透露原因，但是发布了一个1万亿美元的赏金计划，任何能够计算出这些倒数的人都可以领取。幸运的是，你恰好知道 arkworks 库，这个开源项目，提供了有限域算术、多项式代数和其他加密数学的有用算法。 所以你打电话给国防部，告诉他们你有他们需要的数字，只要你收到价值1万亿美元的ETH，就会把答案发给他们。但他们不相信，因此他们说他们想先看看这些数字，然后再付钱给你。

这是一个非常经典的对峙问题。怎么办呢？ 事实上，尽管国防部不知道如何进行基本的有限域计算，但他们知道 SNARKS。 因此他们同意，如果你能发送一个加密证明，证明你解决了这个问题，那么他们将在证明验证后支付你一半的赏金，另一半则在他们收到这些数字后支付。

你担心他们可能会食言，而不支付赏金的后半部分，但你想，即使是5000亿美元也不错，所以你同意了他们的条件。

**挑战内容**

现在你已拿到了一个有限域元素的列表。下面，你需要提交一份证明，证明你知道这些数字中每一个的倒数。你将使用的证明方法在 Manta Docs上有详细描述 -- 它是一个只有当你真的知道所有答案时才能得出的标量和椭圆曲线点的集合。

你将通过 Manta（一个你和国防部都信任的区块链，且具有出色的匿名性和安全保障）来提交证明，如果它验证通过，那么你可以参加抽奖来决定赏金的得主是谁（不过，这个赏金大大低于1万亿美元）。

## 相关代码

挑战所涉及的相关代码 [详见](https://github.com/Manta-Network/ZKSummitHackingChallenge).

## 下载 Rust
具体详见 `https://www.rust-lang.org/tools/install`

## 背景介绍

我们整理了一份介绍ZK证明的背景资料。 针对的是对这一领域完全陌生的观众，如果你有一些经验，可以跳到与你有关的部分。 观看这个 [视频](https://drive.google.com/file/d/1mwLsnU_1mNWUV7f7jYAwcJDet7aQETaD/view?usp=sharing) 可用下面的时间戳进行导航:

什么是 SNARK? 0:00 - 3:45

ABC证明 3:45 - 5:00

多项式插值 5:00 - 7:50

运算过程  7:50 - 18:21

多项式验证 18:21 - 23:39

证明/验证 23:39 - end

## 写下你的解决方案

你需要完善 `prove.rs` 模块中 `create_proof` 主体方法（不是 `prove.rs` 二进制文件！）。我们已经为你提供了执行多项式插值和提交所需的所有权限，你需要重构这些函数以完善`create_proof`。

你可以通过`verify.rs`模块中`verify_proof`方法来检查结果——该测试调用你编写的`create_proof`来验证结果。如测试通过，则说明你的证明是正确的。

## **链上提交证明**

当完成解决方案后，可执行 `prove.rs` 文件：

```sh
cargo run --release --bin prove
```

输出结果由哈希值和十六进制数组成。 该十六进制数是证明结果的序列化（记得证明本身是由一些椭圆曲线点和有限场元素组成的，所以我们把这些数据序列化以便提交）。 哈希值是确权答案的一种方式。 你将通过谷歌表格提交十六进制数和哈希值，你将通过提交链上的哈希值来确权你的解决方案。

我们支持两种提交证明哈希的方式:
1.  在 Polkadot 交易中提交备注
   * 打开 polakdot 的web app
   * 在 `Developer` -> `Extrinsics`，选择 `system`, `remark`
     ![polkaot submission](../../../../../docs/learn/resources/polakdot-submit.png)
   * 将哈希值填入备注（需要开头添加 `0x`)
   * 将备注提交到 Polkadot 区块链，记住 extrinsic id
   
2. 在以太坊中提交带有数据字段的交易
   * 选择支持提交数据字段的钱包，例如 MyCrypto
   * 以哈希值为数据字段发送交易，例如在 MyCrypto 中，点击高级选项
     ![my crypto](../../../../../docs/learn/resources/my-crypto-1.png)
    数据字段中添加零知识证明的哈希值
     ![my crypto data](../../../../../docs/learn/resources/my-crypto-2.png)
   * 发送交易上链

接下来，提交此 [表格](https://forms.gle/ZpGua9DUmwmYgiGdA)并附上您的地址以获得奖励和 ZKP。

## 还有疑问？

请访问我们的 [Discord channel](https://discord.gg/MTBFB5rbJ8) 向我们提出问题。 我们将尝试帮助您解决 Rust 问题，但我们可能不会给出任何有关挑战的提示；）
